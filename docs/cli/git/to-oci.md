---
title: ace-dt git to-oci
description: Store a git repository as an OCI artifact.
---

<!--
This documentation is auto generated by a script.
Please do not edit this file directly.
-->

<!-- markdownlint-disable-next-line single-title -->
# ace-dt git to-oci

Store a git repository as an OCI artifact.

## Synopsis

Sync an OCI artifact with all refs in the git reference list, or all existing refs if none are provided. Typically the git reference list contains tag and/or head references, but commits are acceptable as well.
		
For optimal efficiency, it is recommended to always use the same OCI reference for subsequent syncs. However, it is important to consider that a to-oci sync strictly updates the refs provided during its execution (or all if no refs are provided). The resulting OCI artifact may contain additional references only if a prior sync has occurred for the same artifact (OCI reference). To view the state of references in the OCI artifact please see ace-dt git list-refs. All git references included in the OCI artifact will be accessible in the git repository updated with ace-dt git from-oci, see ace-dt git from-oci for more details.

Syncing git-lfs tracked files is supported by default. The --lfs flag is available to change this behavior, however it is not recommended as missing LFS files often results in a subsequent call to ace-dt git from-oci to fail; unless the destination repository explicitly enables this. 

## Usage

```plaintext
ace-dt git to-oci GIT_REMOTE OCI_REFERENCE GIT_REFERENCES... [flags]
```

## Examples

```sh
Create a new OCI artifact with all tag and head references:
		$ ace-dt git to-oci https://github.com/libgit2/libgit2 reg.example.com/my/libgit2:sync
		
Create a new OCI artifact with the v1.6.1 tag reference:
    $ ace-dt git to-oci https://github.com/libgit2/libgit2 reg.example.com/my/libgit2:sync v1.6.1

Overwrite an existing OCI artifact with a new base layer with the 
  main head reference (does not include the v1.6.1 tag ref):
    $ ace-dt git to-oci https://github.com/libgit2/libgit2 reg.example.com/my/libgit2:sync main --clean

Exclude git LFS tracked files:
    $ ace-dt git to-oci https://github.com/libgit2/libgit2 reg.example.com/my/libgit2:sync main --lfs=false

Cache the git repository at GIT_REMOTE (caches lfs files as well):
    $ace-dt git to-oci https://github.com/libgit2/libgit2 reg.example.com/my/libgit2:sync main --cache-path CACHE_PATH
		
```

## Options

```plaintext
Options:
      --clean   Start a clean OCI artifact regardless whether or not a tag exists in the target repository. This will overwrite the existing tag.
  -h, --help    help for to-oci
```

## Options inherited from parent commands

```plaintext
Global options:
      --cache-path string           Use the specified directory as a git repository cache (settable with env 'ACE_DT_GIT_CACHE_PATH').
      --config stringArray          configuration file location (setable with env "ACE_DT_CONFIG").
                                    The first configuration file present is used.  Others are ignored.
                                     (default [ace-dt-config.yaml,/root/.config/ace/dt/config.yaml,/etc/ace/dt/config.yaml])
      --git-executable string       Provide a path to an alternative git executable (settable with env 'ACE_DT_GIT_EXECUTABLE').
      --git-lfs-executable string   Provide a path to an alternative git-lfs executable (settable with env 'ACE_DT_GIT_LFS_EXECUTABLE').
      --lfs                         Include git LFS files, if they exist, default is true. (default true)
      --lfs-server string           Directly specify an LFS server URL.
  -v, --verbosity strings[=warn]    Logging verbosity level (also setable with environment variable ACE_DT_VERBOSITY)
                                    Aliases: error=0, warn=4, info=8, debug=12 (default [warn])
```
